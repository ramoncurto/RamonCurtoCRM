{% extends "base.html" %}

{% block title %}Atletas • Gestión{% endblock %}

{% block content %}
<div class="app">
  <div class="panel">
    <!-- Unified Toolbar -->
    <div class="header">
      <div class="toolbar">
        <div class="toolbar-left">
          <h1>Lista de Atletas</h1>
        </div>
        
        <div class="toolbar-center">
          <div class="search-container">
            <i class="fa-solid fa-search search-icon"></i>
            <input class="input search-input" id="search" placeholder="Buscar atletas..." />
          </div>
          
          <div class="filters">
            <select class="input filter-select" id="filterSport">
              <option value="">Todos los deportes</option>
            </select>
            <select class="input filter-select" id="filterLevel">
              <option value="">Todos los niveles</option>
            </select>
            <select class="input filter-select" id="filterRisk">
              <option value="">Todos los riesgos</option>
              <option value="bajo">Riesgo Bajo</option>
              <option value="medio">Riesgo Medio</option>
              <option value="alto">Riesgo Alto</option>
            </select>
          </div>
        </div>
        
        <div class="toolbar-right">
          <div class="saved-views">
            <button class="btn btn-icon" id="btnSavedViews" title="Vistas guardadas">
              <i class="fa-solid fa-bookmark"></i>
            </button>
          </div>
          <button class="btn warning" id="btnRiskAssessment" title="Evaluar riesgo de todos los atletas (Ctrl+R)">
            <i class="fa-solid fa-calculator"></i>
            Evaluar Riesgo
          </button>
          <button class="btn primary" id="btnNew">
            <i class="fa-solid fa-user-plus"></i>
            Nuevo atleta
          </button>
        </div>
      </div>
    </div>
    
    <div class="content">
      <table aria-label="Tabla de atletas" class="athletes-table">
        <thead>
          <tr>
            <th class="id">ID</th>
            <th>Nombre</th>
            <th>Email</th>
            <th>Teléfono</th>
            <th>Deporte</th>
            <th>Nivel</th>
            <th>Riesgo</th>
            <th>Último contacto</th>
            <th>To-Dos abiertos</th>
            <th class="actions-header">Acciones</th>
          </tr>
        </thead>
        <tbody id="tbody"></tbody>
      </table>
      <div id="empty" class="empty" style="display:none">
        <i class="fa-regular fa-user"></i>
        <p>No hay atletas.</p>
        <button class="btn primary" onclick="createNewAthlete()">Crear primer atleta</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/athletes.js"></script>
{% endblock %}
